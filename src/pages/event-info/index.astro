---
import Layout from "@/layouts/Layout.astro";

const title = "イベント情報";
const description = "全日本釣魚連盟のイベントを紹介します";
const og_image = "/images/university1.png";
import { getEvents } from "@/lib/microcms";
const response = await getEvents({fields: ["id", "title", "description", "content", "images", "og_image", "createdAt", "publishedAt"]});
const events = response.contents;
---

<Layout title={title} description={description} og_image={og_image}>
  <main class="event-main">
    <!-- 헤더 -->
    <section class="event-header">
      <h1>イベント情報</h1>
      <div class="search-box">
        <input type="text" placeholder="検索" />
      </div>
    </section>

    <!-- 콘텐츠 -->
    <section class="event-content">
      <!-- 이벤트 리스트 -->
      <div class="event-list">
        {events.map((event) => {
          return (
            <div class="event-item">
              <div class="event-image">
                <img src={event.images[0].url} alt="">
              </div>
              <div class="event-details">
                <h2 class="event-title">{event.title}</h2>
                <p class="event-description">
                  {event.description}
                </p>
                <a href={`/Iventdetail/${event.id}`} class="event-link">続きを読む&gt;&gt;</a>
              </div>
            </div>
          )
        })}
      </div>

      <!-- 오른쪽 아카이브 -->
      <aside class="event-archive">
        <h3>月別アーカイブ</h3>
        <ul>
          <li><a href="#">2024/08</a></li>
          <li><a href="#">2024/07</a></li>
        </ul>
      </aside>
    </section>
  </main>
</Layout>
